{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/\\u5927\\u4E8C/system engineering/chatbot/submit 3/compliance-client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Index from \"./pages/Index\";\nimport Visitor from \"./pages/Visitor\";\nimport Register from \"./pages/Register\";\nimport NavigationBar from \"./components/NavigationBar\";\nimport Dashboard from \"./pages/Dashboard\";\nimport ServerError from \"./pages/ServerError\";\nimport Chatbot from \"./pages/Chatbot\";\nimport axios from \"axios\";\nimport History from \"./pages/History\";\nvar refreshChatbot = false;\n\nfunction App() {\n  const [user, setUser] = useState({\n    isLoggedIn: false,\n    username: null\n  });\n  useEffect(() => {\n    getUser();\n    console.log(\"user is: \");\n    console.log(user);\n  }, [user.isLoggedIn]);\n\n  function getUser() {\n    axios.get(\"/user/\").then(response => {\n      if (response.data.user) {\n        console.log(\"Get User: There is a user saved in the server session: \");\n        console.log(response.data.user);\n        setUser({\n          isLoggedIn: true,\n          username: response.data.user\n        });\n      } else {\n        console.log(\"Get user: no user\");\n        setUser({\n          isLoggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(NavigationBar, {\n    user: user,\n    setUser: setUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), user.loggedIn && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Join the party, \", user.username, \"!\"), React.createElement(\"div\", {\n    className: \"mx-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: props => {\n      return React.createElement(Index, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), user.isLoggedIn ? // user is logged in\n  React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard\",\n    render: props => {\n      return React.createElement(Dashboard, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/chatbot\",\n    render: props => {\n      window.refreshChatbot = true;\n      return React.createElement(Chatbot, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/history\",\n    render: props => {\n      return React.createElement(History, {\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })) : // user not logged in\n  React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard\",\n    render: props => {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Not logged in\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/chatbot\",\n    render: props => {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Not logged in\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/history\",\n    render: props => {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Not logged in\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: props => {\n      return React.createElement(Login, {\n        setUser: setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/visitor\",\n    render: props => {\n      return React.createElement(Visitor, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    render: props => {\n      return React.createElement(Register, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/serverError\",\n    render: props => {\n      return React.createElement(ServerError, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/Desktop/大二/system engineering/chatbot/submit 3/compliance-client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Login","Index","Visitor","Register","NavigationBar","Dashboard","ServerError","Chatbot","axios","History","refreshChatbot","App","user","setUser","isLoggedIn","username","getUser","console","log","get","then","response","data","loggedIn","props","window"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Index from \"./pages/Index\";\nimport Visitor from \"./pages/Visitor\";\nimport Register from \"./pages/Register\";\nimport NavigationBar from \"./components/NavigationBar\";\nimport Dashboard from \"./pages/Dashboard\";\nimport ServerError from \"./pages/ServerError\";\nimport Chatbot from \"./pages/Chatbot\";\nimport axios from \"axios\";\nimport History from \"./pages/History\"\n\nvar refreshChatbot = false;\n\nfunction App() {\n    const [user, setUser] = useState({ isLoggedIn: false, username: null });\n\n    useEffect(() => {\n        getUser();\n        console.log(\"user is: \");\n        console.log(user);\n    }, [user.isLoggedIn]);\n\n    function getUser() {\n        axios.get(\"/user/\").then(response => {\n            if (response.data.user) {\n                console.log(\n                    \"Get User: There is a user saved in the server session: \"\n                );\n                console.log(response.data.user);\n\n                setUser({\n                    isLoggedIn: true,\n                    username: response.data.user\n                });\n            } else {\n                console.log(\"Get user: no user\");\n                setUser({\n                    isLoggedIn: false,\n                    username: null\n                });\n            }\n        });\n    }\n    return (\n        <Router>\n            <NavigationBar user={user} setUser={setUser} />\n            {user.loggedIn && <p>Join the party, {user.username}!</p>}\n            <div className=\"mx-5\">\n                <Route\n                    exact\n                    path=\"/\"\n                    render={props => {\n                        return <Index user={user} />;\n                    }}\n                />\n\n                {user.isLoggedIn ? (\n                    // user is logged in\n                    <React.Fragment>\n                        <Route\n                            exact\n                            path=\"/dashboard\"\n                            render={props => {\n                                return <Dashboard user={user} />;\n                            }}\n                        />\n                        <Route\n                            exact\n                            path=\"/chatbot\"\n                            render={props => {\n                                window.refreshChatbot = true;\n                                return <Chatbot user={user}/>;\n                            }}\n                        />\n                        <Route\n                            exact\n                            path=\"/history\"\n                            render={props => {\n                                return <History user={user} />;\n                            }}\n                        />\n                    </React.Fragment>\n                ) : (\n                    // user not logged in\n                    <React.Fragment>\n                        <Route\n                            exact\n                            path=\"/dashboard\"\n                            render={props => {\n                                return <p>Not logged in</p>;\n                            }}\n                        />\n                        <Route\n                            exact\n                            path=\"/chatbot\"\n                            render={props => {\n                                return <p>Not logged in</p>;\n                            }}\n                        />\n                        <Route\n                            exact\n                            path=\"/history\"\n                            render={props => {\n                                return <p>Not logged in</p>;\n                            }}\n                        />\n                    </React.Fragment>\n                )}\n\n                <Route\n                    exact\n                    path=\"/login\"\n                    render={props => {\n                        return <Login setUser={setUser} />;\n                    }}\n                />\n\n                <Route\n                    exact\n                    path=\"/visitor\"\n                    render={props => {\n                        return <Visitor />;\n                    }}\n                />\n\n                <Route\n                    exact\n                    path=\"/register\"\n                    render={props => {\n                        return <Register />;\n                    }}\n                />\n\n                <Route\n                    exact\n                    path=\"/serverError\"\n                    render={props => {\n                        return <ServerError />;\n                    }}\n                />\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}